import{r as l,j as e,k as c}from"./index-b079be92.js";import{a as p,T as m}from"./utils-643abdd6.js";import{a as D,L as g,E,T as x}from"./axios-137262c9.js";function j(t){return`https://swapi.dev/api/people/${t}/.json`}function T(t){return`https://swapi.dev/api/films/${t}/.json`}const _=t=>({name:t.name,height:t.height,gender:t.gender,hairColor:t.hair_color,created:t.created,url:t.url,films:t.films});async function C(t){const r=await(await D.get(j(t))).data;return _(r)}function R(){const t={id:"",name:"",height:"",gender:"",hairColor:"",created:"",url:"",films:[]},[a,r]=l.useState(t),[s,i]=l.useState(!0),[o,d]=l.useState(null);async function h(u){i(!0);try{const n=await C(u);r(n)}catch(n){d(n)}finally{i(!1)}}return l.useEffect(()=>{h(1)},[]),{data:a,isLoading:s,error:o}}const S="_container_n508s_1",k={container:S},L="Person Films",P="Title",b="Director",w="Release date",y="id:",I="Name:",A="Gender:",F="Height:",v="Hair Color:",O="Created Date:";function $(){const{data:t,isLoading:a}=R(),r=p(t.url),s=new Date(t.created).toDateString();return a?e.jsx(c,{block:!0,children:g}):e.jsxs("div",{id:k.container,children:[e.jsx(B,{id:r,gender:t.gender,name:t.name,height:t.height,hairColor:t.hairColor,created:s}),e.jsx(U,{films:t.films})]})}const H="_container_nc20h_1",N="_title_nc20h_1",f={container:H,title:N},G=t=>({title:t.title,director:t.director,releaseDate:t.release_date,characters:[]});async function q(t){const r=await(await D.get(T(t))).data;return G(r)}function M(t=[]){const[a,r]=l.useState([]),[s,i]=l.useState(!0),[o,d]=l.useState(null);return l.useEffect(()=>{(async()=>{const u=[];i(!0);for(let n=1;n<=t.length;n++)u.push(q(n));try{const n=await Promise.all(u);i(!1),r(n)}catch(n){d(n),console.error("Error fetching data:",n)}})()},[]),{data:a,isLoading:s,error:o}}function U({films:t}){const{data:a,isLoading:r,error:s}=M(t),i={columns:[P,b,w],rows:a.map(o=>[o.title,o.director,o.releaseDate])};return s?e.jsxs("div",{children:[E," ",s==null?void 0:s.message]}):e.jsxs("div",{id:f.container,children:[e.jsx(x,{id:f.title,children:L}),r?e.jsx(c,{block:!0,children:g}):e.jsx(m,{data:i})]})}const W="_characteristicsContainer_h3qpq_1",z={characteristicsContainer:W};function B({id:t,gender:a,name:r,height:s,hairColor:i,created:o}){return e.jsxs("div",{id:z.characteristicsContainer,children:[e.jsxs(c,{block:!0,children:[y," ",t??""]}),e.jsxs(c,{block:!0,children:[I," ",r]}),e.jsxs(c,{block:!0,children:[A," ",a]}),e.jsxs(c,{block:!0,children:[F," ",s]}),e.jsxs(c,{block:!0,children:[v," ",i]}),e.jsxs(c,{block:!0,children:[O," ",o]})]})}function V(){return e.jsx($,{})}export{V as default};
